
# `sturcture`


|              | Folder          | File                                                         | Function                                                     | Remarks                                    |
| ------------ | --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------ |
| **cmd**      | **api-service** | main.go                                                      | Main functionality of the program                           | Program entry point                        |
|              |                 | default_config.yaml                                          | Main configuration file                                      |                                            |
| **config**   | **Config**      | config.go                                                    | Configuration file parsing                                   |                                            |
| **internal** | **DbEntity**    |                                                              | Database read/write related                                  |                                            |
|              |                 | Cache                                                        | Redis cache (not enabled)                                   | No performance issues                      |
|              |                 | Mysql                                                        | SQL database read/write file                                 |                                            |
|              | **Handler**     |                                                              | Main handling code for API requests                          | End: routers parsing; Start: model read/write |
|              |                 | 1. Campaign / Campaigns <br> 2. Explore <br> 3. Images <br> 4. Space / Spaces <br> 5. User | 1. Management of single or multiple Campaigns / task participation history <br> 2. Display of multiple spaces <br> 3. Image upload <br> 4. Creation and display of single or multiple spaces <br> 5. User-related |                                            |
|              | **Middleware**  |                                                              | Gin middleware                                              |                                            |
|              |                 | 1. Cors <br> 2. JWT                                              | 1. Cross-origin requests <br> 2. JWT functionality                |                                            |
|              | **Model**       | 1. SpaceFollower.go <br> 2. address.go <br> 3. base_model.go <br> 4. campaign.go <br> 5. campaignParticipant.go <br> 6. chain_address.go <br> 7. cred.go <br> 8. credentialGroup.go <br> 9. credentialGroupParticipant.go <br> 10. credentialGroupReward.go <br> 11. credentialParticipant.go <br> 12. jpa_web_authn_user.go <br> 13. social_account.go <br> 14. space.go <br> 15. user.go | 1. Data table for storing user follow space <br> 2. Data table for storing on-chain addresses <br> 3. Parent structure, containing basic info like id and creation time <br> 4. Activity data table <br> 5. History of user participation in campaigns <br> 6. On-chain data table <br> 7. Task data table <br> 8. Data table for task groups <br> 9. History of user participation in task groups <br> 10. Points earned for completing task groups <br> 11. History of user participation in tasks <br> 12. Data table for FIDO users <br> 13. Data table for storing user social accounts <br> 14. Space data table <br> 15. User data table | GORM data structure used to define tables and interact with the database |
|              | **Response**    | response.go                                                  | API response wrapper                                        |                                            |
|              | Retriever       |                                                              | Database retrieval code                                     | Interaction code with Model, read/write from DB |
|              |                 | 1. Campaign / Campaign <br> 2. Explore <br> 3. Images <br> 4. Space / Spaces <br> 5. Twitter <br> 6. User | 1. Single task participation <br> 2. Task display <br> 3. Image read/write DB <br> 4. Space read/write DB <br> 5. Twitter tasks <br> 6. User read/write DB |                                            |
|              | **Routers**     |                                                              | Related to Gin router                                       | API path index                             |
|              |                 | 1. Campaign / Campaign <br> 2. Explore <br> 3. Images <br> 4. Space / Spaces <br> 5. Twitter <br> 6. User | 1. Single task route parsing <br> 2. Task list display route parsing <br> 3. Image read/write route parsing <br> 4. Space route parsing <br> 5. Twitter route parsing <br> 6. User route parsing |                                            |
|              | **Server**      |                                                              | API HTTP Server                                            | Create API Server                          |
|              |                 | 1. http / http_option <br> 2. server                              | 1. API server implementation <br> 2. API server interface        |                                            |
|              | **Types**       |                                                              | API interface return structures                             | Used for response packaging (Wrapper)     |
|              |                 | 1. Campaign / Campaign <br> 2. Explore <br> 3. Images <br> 4. Space / Spaces <br> 5. Telegram <br> 6. User | 1. Single task interface return structure <br> 2. Task list interface return structure <br> 3. Image interface return structure <br> 4. Space interface return structure <br> 5. Telegram interface return structure <br> 6. User interface return structure |                                            |
| **utils**    |                 | host                                                         | Get current hostname                                        |                                            |
